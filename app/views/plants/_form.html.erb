<%= simple_form_for @plant, html: { multipart: true } do |f| %>
<%= f.input :species_name, as: :string, required: false %>

  <%= f.simple_fields_for :common_names do |c| %>
    <%= render 'common_name_fields', f: c %>
  <% end %>
  <div class="links">
    <%= link_to_add_association 'Add Another', f, :common_names %>
  </div>

<hr>

<%= f.input :city, label: 'City or Region', as: :string, required: false %>

<div>
  <%= f.association :countries, label_method: :country_name, input_html: {class:'chosen-select'}, hint: 'Select up to 2' %>
</div>

<!-- only admin and moderators can edit this as it should be automatically generated, remove this later -->
<%= f.input :climate_zone, as: :string, required: false %>
<%= f.input :notes, label: 'Notes (list any plant care tips here)' %>

<!-- fix this with proper nested associations -->
<div>
  <%= f.label "Upload Images" %></br>
  <%= f.file_field :file, :multiple => true %>
</div>

<%= f.submit "Submit", class:'btn btn-primary' %>
<% end %>

<script>
$('.chosen-select').chosen({max_selected_options: 2});
</script>
